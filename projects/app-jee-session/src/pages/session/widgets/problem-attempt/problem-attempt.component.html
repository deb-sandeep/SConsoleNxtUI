<div id="problem-attempt-body">

  <div class="session-body-content">

    <div class="session-timer-small">
      {{session.effectiveDuration() | duration}}
    </div>

    <div *ngIf="showAutoPlay()" class="auto-play-switch form-switch">
      <input class="form-check-input" type="checkbox" role="switch"
             [(ngModel)]="autoPlay">
    </div>

    <div class="chapter-summary">
      <div class="book-name">{{problem!.bookShortName}}</div>
      <div class="chapter-name">{{problem!.chapterNum}}. {{problem!.chapterName}}</div>
    </div>

    <div class="problem-timer animate__animated animate__backInLeft"
         (click)="session.pause()">
      {{problemAttempt!.effectiveDuration() | duration}}
    </div>

    <div class="problem-key animate__animated animate__backInRight">
      <span [ngClass]="getProblemIcon(problem!.problemState)"></span>&nbsp;
      {{problem!.problemKey.replaceAll( "/", " / ")}}
    </div>
  </div>

  <div class="action-btn-panel">
    @if( isValidAction( 'Correct' ) ) {
      <action-btn (click)="endProblemAttempt( 'Correct' )"
                  bgColor="#002200">
        <span class="bi-check-lg" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Pigeon Kill' ) ) {
      <action-btn (click)="endProblemAttempt( 'Pigeon Kill' )"
                  bgColor="#002200">
        <span class="bi-check2-square" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Redo' ) ) {
      <action-btn (click)="endProblemAttempt( 'Redo' )"
                  bgColor="#3d0932">
        <span class="bi-arrow-clockwise" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Incorrect' ) ) {
      <action-btn (click)="endProblemAttempt( 'Incorrect' )"
                  bgColor="#341101">
        <span class="bi-x-lg" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Pigeon' ) ) {
      <action-btn (click)="endProblemAttempt( 'Pigeon' )"
                  bgColor="#091627">
        <span class="bi-twitter" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Later' ) ) {
      <action-btn (click)="endProblemAttempt( 'Later' )"
                  bgColor="#353535">
        <span class="bi-arrow-right" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Reassign' ) ) {
      <action-btn (click)="endProblemAttempt( 'Reassign' )"
                  bgColor="#3d253b">
        <span class="bi-signpost-split" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

    @if( isValidAction( 'Purge' ) ) {
      <action-btn (click)="endProblemAttempt( 'Purge' )"
                  bgColor="#1d1c0a">
        <span class="bi-box-arrow-up-right" style="font-size:45px;"></span>
      </action-btn>
      <div style="width: 20px;display: inline-block"></div>
    }

  </div>
</div>
